// utils/loadSharedCfg.ts
import fs from "fs";
import path from "path";
import { loadConfig } from "./config.js";
/** ---------------- shared-config loader ---------------- */
export async function loadSharedConfig(schemaDir) {
    const envOverride = process.env.PRISMA_LARAVEL_CFG;
    const defaultPath = path.join(schemaDir, "prisma-laravel.config.js");
    const cfgPath = envOverride ? path.resolve(envOverride) : defaultPath;
    console.log("Loading shared config from - " + cfgPath);
    try {
        await fs.accessSync(cfgPath);
        const mod = await loadConfig(cfgPath);
        return (mod.default ?? mod);
    }
    catch (err) {
        console.error(err.message);
        return {}; // no shared config
    }
}
//# sourceMappingURL=loadSharedCfg.js.map